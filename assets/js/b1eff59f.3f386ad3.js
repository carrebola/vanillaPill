"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9594],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>g});var o=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function t(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,o,r=function(e,a){if(null==e)return{};var n,o,r={},t=Object.keys(e);for(o=0;o<t.length;o++)n=t[o],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)n=t[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=o.createContext({}),m=function(e){var a=o.useContext(i),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},d=function(e){var a=m(e.components);return o.createElement(i.Provider,{value:a},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},p=o.forwardRef((function(e,a){var n=e.components,r=e.mdxType,t=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=m(n),p=r,g=u["".concat(i,".").concat(p)]||u[p]||c[p]||t;return n?o.createElement(g,l(l({ref:a},d),{},{components:n})):o.createElement(g,l({ref:a},d))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var t=n.length,l=new Array(t);l[0]=p;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s[u]="string"==typeof e?e:r,l[1]=s;for(var m=2;m<t;m++)l[m]=n[m];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3243:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>t,metadata:()=>s,toc:()=>m});var o=n(7462),r=(n(7294),n(3905));const t={title:"Subcomponentes de header (Men\xfas y editar perfil)"},l=void 0,s={unversionedId:"Version 1.0/SPRINT 3 - SPA/Componente menu",id:"Version 1.0/SPRINT 3 - SPA/Componente menu",title:"Subcomponentes de header (Men\xfas y editar perfil)",description:"Versi\xf3n 2.0 de header",source:"@site/docs/03-Version 1.0/SPRINT 3 - SPA/05-Componente menu.md",sourceDirName:"03-Version 1.0/SPRINT 3 - SPA",slug:"/Version 1.0/SPRINT 3 - SPA/Componente menu",permalink:"/vanillaPill/docs/Version 1.0/SPRINT 3 - SPA/Componente menu",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-Version 1.0/SPRINT 3 - SPA/05-Componente menu.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Subcomponentes de header (Men\xfas y editar perfil)"},sidebar:"tutorialSidebar",previous:{title:"Componente enrutador.js",permalink:"/vanillaPill/docs/Version 1.0/SPRINT 3 - SPA/Enrutador"},next:{title:"Gesti\xf3n de sesiones (login y logout)",permalink:"/vanillaPill/docs/Version 1.0/SPRINT 3 - SPA/Dando funcionalidad a las vistas/Sesiones"}},i={},m=[{value:"Versi\xf3n 2.0 de header",id:"versi\xf3n-20-de-header",level:2},{value:"Local Storage",id:"local-storage",level:2},{value:"Componentes para men\xfas. Actualizando el header",id:"componentes-para-men\xfas-actualizando-el-header",level:2},{value:"Simulando el inicio de sesi\xf3n",id:"simulando-el-inicio-de-sesi\xf3n",level:4},{value:"Editar perfil en ventana modal",id:"editar-perfil-en-ventana-modal",level:2}],d={toc:m},u="wrapper";function c(e){let{components:a,...t}=e;return(0,r.kt)(u,(0,o.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"versi\xf3n-20-de-header"},"Versi\xf3n 2.0 de header"),(0,r.kt)("p",null,"Para mejorar nuestro header vamos a dividir el componente header.js  en tres componentes, el componente padre: ",(0,r.kt)("strong",{parentName:"p"},"header.js")," que contendr\xe1 el html que no cambia nunca, y tres subcomponentes m\xe1s: ",(0,r.kt)("strong",{parentName:"p"},"menuSuperior.js"),", ",(0,r.kt)("strong",{parentName:"p"},"menuEspecifico")," y ",(0,r.kt)("strong",{parentName:"p"},"menuUsuario.js")," que inyectaremos dentro del componente padre header."),(0,r.kt)("p",null,"Estos componentes contendr\xe1n el c\xf3digo correspondiente a los men\xfas, que ser\xe1 diferente, dependiendo del ",(0,r.kt)("strong",{parentName:"p"},"rol del usuario")," que est\xe9 logueado."),(0,r.kt)("p",null,"Tambi\xe9n vamos a a\xf1adir la l\xf3gica necesaria para detectar si hay una sesi\xf3n abierta (almacenada en el localStorage) y capturar los datos del usuario (su perfil). Dependiendo del rol del usuario, cargaremos el men\xfa correspondiente."),(0,r.kt)("p",null,"Pero antes de ponernos con los men\xfas vamos a crear el c\xf3digo necesario para trabajar con el localStorage."),(0,r.kt)("h2",{id:"local-storage"},"Local Storage"),(0,r.kt)("p",null,"El localStorage es una herramienta \xfatil para almacenar peque\xf1as cantidades de datos en el navegador del usuario para su posterior recuperaci\xf3n."),(0,r.kt)("p",null,"Nosotros lo usaremos para gestionar la informaci\xf3n 'no cr\xedtica' que se muestra en el navegador, como por ejemplo, las ",(0,r.kt)("strong",{parentName:"p"},"opciones de los men\xfas")," (aunque estas no funcionar\xe1n si la sesi\xf3n no est\xe1 abierta en el lado del servidor) o el nombre del usuario."),(0,r.kt)("admonition",{title:"LocalStorage",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"LocalStorage")," es una API proporcionada por los navegadores web modernos que permite a las aplicaciones web ",(0,r.kt)("strong",{parentName:"p"},"almacenar datos en forma de pares clave-valor")," en el ",(0,r.kt)("strong",{parentName:"p"},"navegador")," del usuario. "),(0,r.kt)("p",{parentName:"admonition"},"Es una forma de ",(0,r.kt)("strong",{parentName:"p"},"almacenamiento persistente en el lado del cliente"),", lo que significa que los datos almacenados en localStorage persisten incluso despu\xe9s de que el usuario cierre la ventana o pesta\xf1a del navegador."),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Algunas caracter\xedsticas clave del localStorage son:"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- Persistencia"),": Los datos almacenados en localStorage permanecen disponibles incluso despu\xe9s de cerrar y volver a abrir el navegador. Esto los hace adecuados para almacenar preferencias de usuario, datos de sesi\xf3n, configuraciones y otros tipos de informaci\xf3n que deben conservarse entre sesiones."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- Capacidad y l\xedmites"),": localStorage tiene una capacidad de almacenamiento m\xe1s grande en comparaci\xf3n con las cookies, que son otro m\xe9todo de almacenamiento en el lado del cliente. Sin embargo, hay un l\xedmite de almacenamiento que var\xeda seg\xfan el navegador, generalmente alrededor de varios megabytes."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- Acceso desde JavaScript"),": Los datos almacenados en localStorage son accesibles y modificables a trav\xe9s de JavaScript en el contexto de la p\xe1gina web en la que se establecieron. Esto permite que las aplicaciones web almacenen y recuperen informaci\xf3n de manera program\xe1tica."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- No se env\xeda al servidor"),": A diferencia de las cookies, que se env\xedan al servidor con cada solicitud HTTP, los datos en localStorage no se env\xedan autom\xe1ticamente al servidor. Esto puede ser \xfatil para almacenar informaci\xf3n sensible o privada en el lado del cliente."),(0,r.kt)("p",{parentName:"admonition"},"Sin embargo, hay algunas consideraciones importantes al utilizar localStorage:"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- Seguridad"),": Debido a que los datos almacenados en localStorage son accesibles desde el lado del cliente (JavaScript), existe el riesgo de que los datos sensibles sean expuestos o manipulados si no se implementan medidas de seguridad adecuadas."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"- Capacidad limitada"),": Aunque la capacidad de almacenamiento en localStorage es m\xe1s grande que la de las cookies, a\xfan est\xe1 limitada. Por lo tanto, no es adecuado para almacenar grandes cantidades de datos."),(0,r.kt)("p",{parentName:"admonition"},"No apto para datos cr\xedticos: localStorage no es una soluci\xf3n adecuada para almacenar datos cr\xedticos o confidenciales, ya que es relativamente f\xe1cil de acceder y manipular para usuarios malintencionados."))),(0,r.kt)("p",null,"La informaci\xf3n que vamos a almacenar podr\xeda estar contenida en un objeto (json) com el siguiente:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"usuario = {\n  email: 'gatopaco@email.com',\n  rol: 'alumno'\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Para guardar esta informaci\xf3n en el localstorage ")," necesitamos que este objeto sea una cadena de texto. Para convertilo podemos usar:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// Convertir el objeto a una cadena JSON\nvar usuarioJSON = JSON.stringify(usuario);\n")),(0,r.kt)("p",null,"Y una vez convertido lo guardamos en localStorage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// Guardar en localStorage\nlocalStorage.setItem('usuarioVanilla', usuarioJSON);\n")),(0,r.kt)("p",null,"En el caso de querer recuperar la informaci\xf3n del localstorage tenemos el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"getItem()"),". Para ello debemos hacer el proceso inverso, primero recuperar y luego convertir a objeto."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// Leer en localStorage\nconst usuarioJSON = localStorage.getItem('usuarioVanilla');\n\n// Convertir a objeto\nconst usuario = JSON.parse(usuarioJSON);\n")),(0,r.kt)("p",null,"Una buena idea puede ser crear un objeto que llamaremos ",(0,r.kt)("inlineCode",{parentName:"p"},"ls")," (ls de localstorage) con un par de m\xe9todos para gestionar la lectura y escritura del usuario. Lo guardaremos como un ",(0,r.kt)("strong",{parentName:"p"},"archivo de funciones")," y as\xed podremos usarlo desde cualquier lugar de la aplicaci\xf3n."),(0,r.kt)("p",null,"Vamos a crear nuestro archivo de funciones en la carpeta componentes y le a\xf1adimos el siguiente c\xf3digo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="funciones.js"',title:'"funciones.js"'},"// Gesti\xf3n del localstorage\nexport const ls = {\n  // Captuar datos de localStorage\n  getUsuario: () => {\n    // Leer en localStorage\n    const usuarioJSON = localStorage.getItem('usuarioVanilla')\n    // Convertir a objeto\n    const usuario = JSON.parse(usuarioJSON)\n    // Devolvemos objeto\n    return usuario\n  },\n  setUsuario: (usuario) => {\n    // Convertir el objeto a una cadena JSON\n    const usuarioJSON = JSON.stringify(usuario)\n    // Guardar en localStorage\n    localStorage.setItem('usuarioVanilla', usuarioJSON)\n  }\n}\n")),(0,r.kt)("p",null,"Y esta ser\xeda una versi\xf3n mejorada para gestionar errores en caso de que no haya una sesi\xf3n abierta, es decir, que no haya ning\xfan dato en el localstorage."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="funciones.js"',title:'"funciones.js"'},"// Gesti\xf3n del localstorage\nexport const ls = {\n  // Captuar datos de localStorage\n  getUsuario: () => {\n    // Definimos usuario an\xf3nimo por si no hay datos en localstorage\n    let usuario = {\n      email: 'an\xf3nimo',\n      rol: 'no logueado',\n      avatar: ''\n    }\n    // Capturamos datos de localstorage\n    const usuarioJSON = localStorage.getItem('usuarioVanilla')\n    // Si hay un usuario logueado actualizamos usuario, sino devolvemos usuario an\xf3nimo\n    if (usuarioJSON) {\n      // Parseamos datos de localstorage\n      usuario = JSON.parse(usuarioJSON)\n    }\n    return usuario\n  },\n  setUsuario: (usuario) => {\n    // Convertir el objeto a una cadena JSON\n    const usuarioJSON = JSON.stringify(usuario)\n    // Guardar en localStorage\n    localStorage.setItem('usuarioVanilla', usuarioJSON)\n  }\n}\n\n\n")),(0,r.kt)("p",null,"Para probarlo abrimos el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js"),". En la parte superior importamos nuestra funci\xf3n y creamos el m\xe9todo script():"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js"',title:'"header.js"'},"// importamos la funci\xf3n ls del archivo funciones\nimport { ls } from '../componentes/funciones'\n\nexport const header = {\n  template: // html\n  `...\n  `,\n  script: ()=>{\n    console.log('Header cargado')\n  }\n\n")),(0,r.kt)("p",null,"Y dentro del m\xe9todo ",(0,r.kt)("strong",{parentName:"p"},"script()")," probamos a escribir y leer del localStorage:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js"',title:'"header.js"'},"\n  script: () => {\n    console.log('Header cargado')\n    // Simulamos el inicio de sesi\xf3n de un usuario\n    const usuario = {\n      email: 'manolito@email.com',\n      rol: 'alumno'\n    }\n    ls.setUsuario(usuario)\n    console.log('usuario guardado')\n\n    // Leemos el usuario del localstorage\n    const usuarioLogueado = ls.getUsuario()\n    console.log('usuario del localstorage: ', usuarioLogueado)\n  }\n")),(0,r.kt)("p",null,"Ahora solo falta que, cuando inyectamos el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js")," llamemos a su m\xe9todo script()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"...\n// Inyectamos el componente header\ndocument.querySelector('header').innerHTML = header.template\nheader.script()\n...\n")),(0,r.kt)("p",null,"Si todo ha ido bien podr\xe1s ver el resultado en la consola del inspector. Pero tambi\xe9n podemos ver el contenido del localstorage desde ",(0,r.kt)("inlineCode",{parentName:"p"},"Application/LocalStorage")," de nuestro inspector de c\xf3digo:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"localstorage",src:n(9066).Z,width:"963",height:"344"})),(0,r.kt)("h2",{id:"componentes-para-men\xfas-actualizando-el-header"},"Componentes para men\xfas. Actualizando el header"),(0,r.kt)("p",null,"Cuando creamos el template del ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js")," pusimos el c\xf3digo html de la etiqueta ",(0,r.kt)("inlineCode",{parentName:"p"},"<header></header>")," que hab\xedamos programado en el prototipo ",(0,r.kt)("inlineCode",{parentName:"p"},"home.js"),". Pero si te fijas, el header de otras p\xe1ginas, por ejemplo de ",(0,r.kt)("inlineCode",{parentName:"p"},"proyectos.js"),", es diferente en tanto a que incluye dos nuevos men\xfas. Eso es porque se supone que para acceder a esta p\xe1gina el usuario ya hab\xeda iniciado sesi\xf3n y ten\xeda un rol especifico ('programador' o 'admin') que le habilita dichos men\xfas."),(0,r.kt)("p",null,"As\xed que lo primero que vamos a hacer es desmontar nuestro ",(0,r.kt)("em",{parentName:"p"},"template")," del componente ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js")," en pedazos, de manera que tendremos, por un lado, el c\xf3digo com\xfan para todos los usuarios y, por otro lado, un par de divs donde inyectaremos los men\xfas dependiendo del rol del usuario logueado."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Componente header.js actual" {26-37,39-40,42-43}',title:'"Componente',"header.js":!0,'actual"':!0,"{26-37,39-40,42-43}":!0},'<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">\n  <div class="container">\n    <a class="navbar-brand" href="#/home"\n      ><img\n        src="images/logo.svg"\n        alt=""\n        width="30"\n        height="24"\n        class="d-inline-block align-text-top"\n      />\n      Vanilla Games</a\n    >\n    <button\n      class="navbar-toggler"\n      type="button"\n      data-bs-toggle="collapse"\n      data-bs-target="#navbarSupportedContent"\n      aria-controls="navbarSupportedContent"\n      aria-expanded="false"\n      aria-label="Toggle navigation"\n    >\n      <span class="navbar-toggler-icon"></span>\n    </button>\n    <div class="collapse navbar-collapse" id="navbarSupportedContent">\n      \n      \x3c!-- Menu com\xfan para todos los usuarios --\x3e\n      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">\n        <li class="nav-item">\n          <a class="nav-link active" aria-current="page" href="#/home">Home</a>\n        </li>\n        <li class="nav-item">\n          <a class="nav-link" aria-current="page" href="#">TOP5 Proyectos</a>\n        </li>\n        <li class="nav-item">\n          <a class="nav-link" aria-current="page" href="#">A cerca de</a>\n        </li>\n      </ul>\n\n      \x3c!-- Aqu\xed va el Menu rol --\x3e\n      <div id="menuRol"></div>\n    \n      \x3c!-- Aqu\xed va el Menu usuario --\x3e\n      <div id="menuUsuario"></div>\n    \n    </div>\n  </div>\n</nav>\n')),(0,r.kt)("p",null,"Ahora toca definir qu\xe9 m\xe9nus (y qu\xe9 items) van a incluir cada men\xfa. en funci\xf3n del rol del usuario logueado. Para ello debemos recuperar el diagrama de casos de uso para la versi\xf3n 1:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"diagrama casos de uso",src:n(1690).Z,width:"2384",height:"2594"})),(0,r.kt)("p",null,"Seg\xfan nuestro diagrama, tenemos que los ",(0,r.kt)("strong",{parentName:"p"},"men\xfas que debemos definir")," ser\xedan algo as\xed:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Men\xfa com\xfan")," (para todos los usuarios):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"home"),(0,r.kt)("li",{parentName:"ul"},"TOP 5 Proyectos (Esta vista a\xfan no la hemos creado)"),(0,r.kt)("li",{parentName:"ul"},"A cerca de (Esta vista a\xfan no la hemos creado)")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Men\xfas rol y usuario")," en funci\xf3n del rol"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rol: an\xf3nimo (no registrado o logueado )"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"men\xfa rol: ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Registro"),(0,r.kt)("li",{parentName:"ul"},"Iniciar sesi\xf3n"))),(0,r.kt)("li",{parentName:"ul"},"men\xfa usuario: No se muestra"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rol: registrado "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"men\xfa rol:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Proyectos"))),(0,r.kt)("li",{parentName:"ul"},"men\xfa usuario:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Avatar: muestra la imagen del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Email: muestra el email del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Rol: Muestra el rol del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Perfil: Muestra datos del perfil con opci\xf3n de editar"),(0,r.kt)("li",{parentName:"ul"},"Cerrar sesi\xf3n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rol: desarrollador "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"men\xfa rol:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Proyectos"))),(0,r.kt)("li",{parentName:"ul"},"men\xfa usuario:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Avatar: muestra la imagen del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Email: muestra el email del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Rol: Muestra el rol del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Perfil: Muestra datos del perfil con opci\xf3n de editar"),(0,r.kt)("li",{parentName:"ul"},"Cerrar sesi\xf3n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rol: admin"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"men\xfa rol:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Proyectos"),(0,r.kt)("li",{parentName:"ul"},"PANEL ADMIN"))),(0,r.kt)("li",{parentName:"ul"},"men\xfa usuario:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Avatar: muestra la imagen del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Email: muestra el email del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Rol: Muestra el rol del usuario logueado"),(0,r.kt)("li",{parentName:"ul"},"Perfil: Muestra datos del perfil con opci\xf3n de editar"),(0,r.kt)("li",{parentName:"ul"},"Cerrar sesi\xf3n")))))),(0,r.kt)("p",null,"Para construir el c\xf3digo de cada men\xfa usaremos un objeto para el men\xfa rol y un objeto para el men\xfa usuario. Estos objetos tendr\xe1n tantas propiedades como roles tengamos. "),(0,r.kt)("p",null,"Vamos a ello. Creamos el archivo ",(0,r.kt)("inlineCode",{parentName:"p"},"menus.js")," dentro de la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"componentes")," con los dos men\xfas y como propiedad los roles correspondientes, y los exportamos:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="menus.js"',title:'"menus.js"'},"\nconst menuRol = {\n  templateAnonimo: // html\n  ``,\n  templateRegistrado: // html\n  ``,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nconst menuUsuario = {\n  templateRegistrado: // html\n  ``,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nexport { menuRol, menuUsuario }\n")),(0,r.kt)("p",null,"Ahora vamos a contruir el html para cada men\xfa. "),(0,r.kt)("admonition",{title:"Nota ",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"F\xedjate que muchos son pr\xe1cticamente id\xe9nticos, aunque, para las versiones posteriores de la app, seguramente estas opciones se ver\xe1n modificadas e ir\xe1n ampli\xe1ndose.")),(0,r.kt)("p",null,"El primer men\xfa que vamos a crear es el que corresponde a un usuario an\xf3nimo. Ser\xeda algo as\xed:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="menus.js"',title:'"menus.js"'},'\nconst menuRol = {\n  templateAnonimo: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="ms-2 btn btn-success router-link" href="#/login" >\n        Iniciar sesi\xf3n\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n    <li class="nav-item">\n      <a class="ms-2 btn btn-outline-light router-link" href="#/registro">\n        Reg\xedstrate\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n  </ul>\n  `,\n  templateRegistrado: // html\n  ``,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nconst menuUsuario = {\n  templateRegistrado: // html\n  ``,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nexport { menuRol, menuUsuario }\n')),(0,r.kt)("p",null,"Para los men\xfas correspondientes al usuario registrado debemos tener en cuenta que vamos a necesitar la informaci\xf3n del usuario logueado: La podemos sacar del ",(0,r.kt)("strong",{parentName:"p"},"localstorage")," usando nuestro componente ",(0,r.kt)("inlineCode",{parentName:"p"},"ls.js"),"."),(0,r.kt)("p",null,"Nuestro archivo quedar\xeda as\xed:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="menus.js" {2,53,56}',title:'"menus.js"',"{2,53,56}":!0},'\nimport { ls } from \'./funciones\'\n\nconst menuRol = {\n  templateAnonimo: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="ms-2 btn btn-success router-link" href="#/login" >\n        Iniciar sesi\xf3n\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n    <li class="nav-item">\n      <a class="ms-2 btn btn-outline-light router-link" href="#/registro">\n        Reg\xedstrate\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n  </ul>\n  `,\n  templateRegistrado: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="nav-link active router-link" aria-current="page" href="#/proyectos">PROYECTOS</a>\n    </li>\n    \n  </ul>\n  `,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nconst menuUsuario = {\n  templateRegistrado: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item dropdown">\n      <a\n        class="nav-link dropdown-toggle"\n        href="#"\n        role="button"\n        data-bs-toggle="dropdown"\n        aria-expanded="false"\n      >\n        <img src="images/avatar.svg" alt="" width="25" />\n      </a>\n      <ul class="dropdown-menu me-0" style="left: -100px; width: 100px">\n        <li class="text-light text-end p-2 small">\n          ${ls.getUsuario().email}\n        </li>\n        <li class="text-light text-end pe-2 small fst-italic">\n          ${ls.getUsuario().rol}\n        </li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Mi perfil</a></li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Cerrar sesi\xf3n</a></li>\n      </ul>\n    </li>\n  </ul>\n  `,\n  templateDesarrollador: // html\n  ``,\n  templateAdmin: // html\n  ``\n}\n\nexport { menuRol, menuUsuario }\n')),(0,r.kt)("p",null,"De momento ya tenemos los men\xfas para dos roles. Vamos a programar la l\xf3gica para que dependiendo del rol, se cargue uno u otro men\xfa."),(0,r.kt)("p",null,"Esto lo haremos desde el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js"),". La manera m\xe1s visual es, seguramente, utilizando una estructura ",(0,r.kt)("strong",{parentName:"p"},"switch/case"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js"',title:'"header.js"'},"// ...\n script: () => {\n    console.log('Header cargado')\n    \n    const rolUsuario = ls.getUsuario().rol\n\n    switch (rolUsuario) {\n      case 'registrado':\n        // men\xfa rol\n        document.querySelector('#menuRol').innerHTML = menuRol.templateRegistrado\n        // men\xfa usuario\n        document.querySelector('#menuUsuario').innerHTML = menuUsuario.templateRegistrado\n        break\n      case 'desarrollador':\n        // men\xfa rol\n        document.querySelector('#menuRol').innerHTML = menuRol.templateDesarrollador\n        // men\xfa usuario\n        document.querySelector('#menuUsuario').innerHTML = menuUsuario.templateDesarrollador\n        break\n      case 'admin':\n        // men\xfa rol\n        document.querySelector('#menuRol').innerHTML = menuRol.templateAdmin\n        // men\xfa usuario\n        document.querySelector('#menuUsuario').innerHTML = menuUsuario.templateAdmin\n        break\n      default : // Para usuarios an\xf3nimos\n        // men\xfa rol\n        document.querySelector('#menuRol').innerHTML = menuRol.templateAnonimo\n        // men\xfa usuario: No tiene\n        break\n    }\n  }\n}\n")),(0,r.kt)("p",null,"F\xedjate que estamos utilizando los objetos ",(0,r.kt)("strong",{parentName:"p"},"menuRol")," y ",(0,r.kt)("strong",{parentName:"p"},"menuUsuario")," para los men\xfas que hemos definido en el archivo ",(0,r.kt)("inlineCode",{parentName:"p"},"menus.js"),", y ",(0,r.kt)("inlineCode",{parentName:"p"},"ls.j"),"s para leer los datos del usuario loguedado, as\xed que no nos olvidemos de importar nuestras librerias al inicio de nuestro componente:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js"',title:'"header.js"'},"// importamos la funci\xf3n ls del archivo funciones\nimport { ls } from '../componentes/funciones'\nimport { menuRol, menuUsuario } from './menus'\n\n// ...\n")),(0,r.kt)("p",null,"Si todo esto es correcto, como no tenemos ning\xfan usuario en el localstorage con rol 'registrado', deber\xeda mostrarse el men\xfa de un usuario an\xf3nimo. Es decir, las opciones de registro y login."),(0,r.kt)("h4",{id:"simulando-el-inicio-de-sesi\xf3n"},"Simulando el inicio de sesi\xf3n"),(0,r.kt)("p",null,"Para simular que hay una ",(0,r.kt)("strong",{parentName:"p"},"sesi\xf3n abierta")," vamos a inscribir en el localstorage a la se\xf1ora ",(0,r.kt)("a",{parentName:"p",href:"mailto:chafardera@gmail.com"},"chafardera@gmail.com")," que tiene el rol de registrada. Podemeos hacerlo con esta linea al principio de nuestro script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// Simulamos el inicio de sesi\xf3n de un usuario\n    ls.setUsuario({ email: 'chafardera@gmial.com', rol: 'registrado' })\n")),(0,r.kt)("p",null,"Si miramos nuestra aplicacion ahora, deber\xedan aparecer los men\xfas rol (con la opcion PROYECTOS) y usuario, y dentro del men\xfa usuario, deber\xedamos tener el nombre del usuario, rol y opciones de editar perfil y cerrar sesi\xf3n."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"menus",src:n(6996).Z,width:"1002",height:"270"})),(0,r.kt)("admonition",{title:"\ud83d\udc49Tarea\ud83d\udc48",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Completa el resto de men\xfas para todos los roles definidos. ",(0,r.kt)("em",{parentName:"p"},"Para verificar que funcionan bien puedes ir cambiando la propiedad rol de nuestro usuario '",(0,r.kt)("a",{parentName:"em",href:"mailto:chafardera@gmail.com"},"chafardera@gmail.com"),"'."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Resultado: \ud83d\udc41\u200d\ud83d\udde8"),(0,r.kt)("div",{style:{display:"none"}},(0,r.kt)("p",null,"Ahora ya solo nos falta completar el resto de men\xfas. Los archivos menus.js y header.js quedar\xedan de la siguiente manera:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="menus.js"',title:'"menus.js"'},'import { ls } from \'./funciones\'\nconst menuRol = {\n  templateAnonimo: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="ms-2 btn btn-success router-link" href="#/login" >\n        Iniciar sesi\xf3n\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n    <li class="nav-item">\n      <a class="ms-2 btn btn-outline-light router-link" href="#/registro">\n        Reg\xedstrate\n        <i class="bi bi-box-arrow-in-right"></i>\n      </a>\n    </li>\n  </ul>\n  `,\n  templateRegistrado: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="nav-link active router-link" aria-current="page" href="#/proyectos">PROYECTOS</a>\n    </li>\n    \n  </ul>\n  `,\n  templateDesarrollador: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="nav-link active router-link" aria-current="page" href="#/proyectos">PROYECTOS</a>\n    </li>\n  </ul>\n  `,\n  templateAdmin: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item">\n      <a class="nav-link active router-link" aria-current="page" href="#/proyectos">PROYECTOS</a>\n      <a class="nav-link active router-link" aria-current="page" href="#/admin">Panel ADMIN</a>\n    </li>\n  </ul>\n  `\n}\n\nconst menuUsuario = {\n  templateRegistrado: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item dropdown">\n      <a\n        class="nav-link dropdown-toggle router-link"\n        href="#"\n        role="button"\n        data-bs-toggle="dropdown"\n        aria-expanded="false"\n      >\n        <img src="images/avatar.svg" alt="" width="25" />\n      </a>\n      <ul class="dropdown-menu me-0" style="left: -100px; width: 100px">\n        <li class="text-light text-end p-2 small">\n          ${ls.getUsuario().email}\n        </li>\n        <li class="text-light text-end pe-2 small fst-italic">\n          ${ls.getUsuario().rol}\n        </li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Mi perfil</a></li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Cerrar sesi\xf3n</a></li>\n      </ul>\n    </li>\n  </ul>\n  `,\n  templateDesarrollador: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item dropdown">\n      <a\n        class="nav-link dropdown-toggle router-link"\n        href="#"\n        role="button"\n        data-bs-toggle="dropdown"\n        aria-expanded="false"\n      >\n        <img src="images/avatar.svg" alt="" width="25" />\n      </a>\n      <ul class="dropdown-menu me-0" style="left: -100px; width: 100px">\n        <li class="text-light text-center p-2">\n          <p>${ls.getUsuario().email}</p>\n        </li>\n        <li class="text-light text-center p-2">\n          <p>${ls.getUsuario().rol}</p>\n        </li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Mi perfil</a></li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Cerrar sesi\xf3n</a></li>\n      </ul>\n    </li>\n  </ul>\n  \n  `,\n  templateAdmin: // html\n  `\n  <ul class="navbar-nav ms-auto me-2 mb-2 mb-lg-0">\n    <li class="nav-item dropdown">\n      <a\n        class="nav-link dropdown-toggle router-link"\n        href="#"\n        role="button"\n        data-bs-toggle="dropdown"\n        aria-expanded="false"\n      >\n        <img src="images/avatar.svg" alt="" width="25" />\n      </a>\n      <ul class="dropdown-menu me-0" style="left: -100px; width: 100px">\n        <li class="text-light text-center p-2">\n          <p>${ls.getUsuario().email}</p>\n        </li>\n        <li class="text-light text-center p-2">\n          <p>${ls.getUsuario().rol}</p>\n        </li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Mi perfil</a></li>\n        <li><hr class="dropdown-divider" /></li>\n        <li><a class="dropdown-item" href="#">Cerrar sesi\xf3n</a></li>\n      </ul>\n    </li>\n  </ul>\n  `\n}\n\nexport { menuRol, menuUsuario }\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js"',title:'"header.js"'},'// importamos la funci\xf3n ls del archivo funciones\nimport { ls } from \'../componentes/funciones\'\nimport { menuRol, menuUsuario } from \'./menus\'\n\nexport const header = {\n  template: // html\n  `\n<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">\n  <div class="container">\n    <a class="navbar-brand router-link" href="#/home"\n      ><img\n        src="images/logo.svg"\n        alt=""\n        width="30"\n        height="24"\n        class="d-inline-block align-text-top"\n      />\n\n      Vanilla Games</a\n    >\n    <button\n      class="navbar-toggler"\n      type="button"\n      data-bs-toggle="collapse"\n      data-bs-target="#navbarSupportedContent"\n      aria-controls="navbarSupportedContent"\n      aria-expanded="false"\n      aria-label="Toggle navigation"\n    >\n      <span class="navbar-toggler-icon"></span>\n    </button>\n    <div class="collapse navbar-collapse" id="navbarSupportedContent">\n      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">\n        <li class="nav-item">\n          <a class="nav-link active router-link" aria-current="page" href="#/home">Home</a>\n        </li>\n        <li class="nav-item">\n          <a class="nav-link router-link" aria-current="page" href="#">TOP5 Proyectos</a>\n        </li>\n        <li class="nav-item">\n          <a class="nav-link router-link" aria-current="page" href="#" class="router-link">A cerca de</a>\n        </li>\n      </ul>\n\n      <div id="menuRol"></div>\n      <div id="menuUsuario"></div>\n    </div>\n  </div>\n</nav>\n\n  `,\n  script: () => {\n    console.log(\'Header cargado\')\n    // Simulamos el inicio de sesi\xf3n de un usuario\n    ls.setUsuario({ email: \'chafardera@gmial.com\', rol: \'registrado\' })\n    const rolUsuario = ls.getUsuario().rol\n\n    switch (rolUsuario) {\n      case \'registrado\':\n        // men\xfa rol\n        document.querySelector(\'#menuRol\').innerHTML = menuRol.templateRegistrado\n        // men\xfa usuario\n        document.querySelector(\'#menuUsuario\').innerHTML = menuUsuario.templateRegistrado\n        break\n      case \'desarrollador\':\n        // men\xfa rol\n        document.querySelector(\'#menuRol\').innerHTML = menuRol.templateDesarrollador\n        // men\xfa usuario\n        document.querySelector(\'#menuUsuario\').innerHTML = menuUsuario.templateDesarrollador\n        break\n      case \'admin\':\n        // men\xfa rol\n        document.querySelector(\'#menuRol\').innerHTML = menuRol.templateAdmin\n        // men\xfa usuario\n        document.querySelector(\'#menuUsuario\').innerHTML = menuUsuario.templateAdmin\n        break\n      default : // Para usuarios an\xf3nimos\n        // men\xfa rol\n        document.querySelector(\'#menuRol\').innerHTML = menuRol.templateAnonimo\n        // men\xfa usuario: No tiene\n        break\n    }\n  }\n}\n\n')))),(0,r.kt)("h2",{id:"editar-perfil-en-ventana-modal"},"Editar perfil en ventana modal"),(0,r.kt)("p",null,"Y para acabar con esta actualizaci\xf3n del header, vamos a incluir la ventana modal que nos permitir\xe1 editar los datos del perfil."),(0,r.kt)("p",null,"Creamos el ",(0,r.kt)("strong",{parentName:"p"},"componente ",(0,r.kt)("inlineCode",{parentName:"strong"},"editarPerfil.js"))," en la carpeta de ",(0,r.kt)("inlineCode",{parentName:"p"},"componentes")," y le a\xf1adimos el html correspondiente a la propiedad ",(0,r.kt)("em",{parentName:"p"},"template"),", que podemos obtener de nuestro prototipo ",(0,r.kt)("inlineCode",{parentName:"p"},"editarPerfil.html"),". (F\xedjate que hemos modificado su ",(0,r.kt)("em",{parentName:"p"},"id"),")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="editarPerfil.js" {7}',title:'"editarPerfil.js"',"{7}":!0},'export const editarPerfil = {\n  template: // html\n  `\n  \x3c!-- Ventana modaledici\xf3n perfil --\x3e\n  <div\n    class="modal fade"\n    id="modalEditarPerfil"\n    tabindex="-1"\n    aria-labelledby="exampleModalLabel"\n    aria-hidden="true"\n  >\n    \x3c!-- Formulario de edici\xf3n de perfil --\x3e\n    <form novalidate action="">\n      <div class="modal-dialog">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h1 class="modal-title fs-5" id="exampleModalLabel">\n              Edici\xf3n de perfil\n            </h1>\n            <button\n              type="button"\n              class="btn-close"\n              data-bs-dismiss="modal"\n              aria-label="Close"\n            ></button>\n          </div>\n          <div class="modal-body">\n            <div class="form border shadow-sm p-3">\n              <div class="m-1" style="max-width: 400px">\n                <div class="imgPerfil border shadow-sm p-3 mb-3">\n                  <div\n                    class="imagen mx-auto mb-1 rounded-circle"\n                    style="\n                      background-image: url(.images/avatar.svg);\n                      width: 200px;\n                      height: 200px;\n                      background-size: cover;\n                      background-position: center;\n                    "\n                  ></div>\n\n                  \x3c!-- Imagen de perfil --\x3e\n                  <label for="imagen" class="form-label mt-3">URL imagen:</label>\n                  <input\n                    id="imagen"\n                    type="url"\n                    class="form-control"\n                    value="http://imagenavatar.png"\n                  />\n                  <div class="invalid-feedback">La url no es correcta</div>\n                </div>\n\n                <div class="">\n                  \x3c!-- Nombre --\x3e\n                  <label for="nombre" class="form-label">Nombre:</label>\n                  <input required id="nombre" type="text" class="form-control" />\n                  <div class="invalid-feedback">El nombre es requerido</div>\n                  \x3c!-- Apellidos --\x3e\n                  <label for="apellidos" class="form-label">Apellidos:</label>\n                  <input id="apellidos" type="text" class="form-control" />\n\n                  \x3c!-- Email --\x3e\n                  <label for="email" class="form-label">Email:</label>\n                  <input required id="email" type="email" class="form-control" />\n                  <div class="invalid-feedback">El formato no es correcto</div>\n\n                  \x3c!-- Contrase\xf1a --\x3e\n                  <label for="pass" class="form-label mt-3">Contrase\xf1a:</label>\n                  <input\n                    required\n                    minlength="6"\n                    id="pass"\n                    type="password"\n                    class="form-control"\n                  />\n                  <div class="invalid-feedback">\n                    La contrase\xf1a debe ser de 6 caracteres como m\xednimo\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">\n              Cancelar\n            </button>\n            <button type="button" class="btn btn-primary">Guardar cambios</button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  `,\n  script: () => {\n    console.log(\'script de modal editar perfil cargado\')\n  }\n}\n\n')),(0,r.kt)("p",null,"Ahora nos vamos a ",(0,r.kt)("inlineCode",{parentName:"p"},"header.js")," e inyectamos nuestro componente ",(0,r.kt)("inlineCode",{parentName:"p"},"editarPerfil.js")," en un div. (Recuerda que antes debes importar el componente editarPerfil.js)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="header.js" {3,10,17}',title:'"header.js"',"{3,10,17}":!0},"import { ls } from '../componentes/funciones'\nimport { menuRol, menuUsuario } from './menus'\nimport { editarPerfil } from './editarPerfil'\n\nexport const header = {\n  template: // html\n  `\n  ...\n\n  <div id=\"modal\">\n    \x3c!-- Aqu\xed inyectamos el componente editarPerfil --\x3e\n  </div>\n\n  `,\n  script: () => {\n    console.log('Header cargado')\n    document.querySelector('#modal').innerHTML = editarPerfil.template\n    ...\n  }\n}\n")),(0,r.kt)("p",null,"Ahora solo nos falta el ",(0,r.kt)("strong",{parentName:"p"},"bot\xf3n para abrir el modal"),": Copiamos las propiedades del bot\xf3n del prototipo y se las ponemos al ",(0,r.kt)("strong",{parentName:"p"},"item 'Editar Perfil'")," de nuestros men\xfas:\n(No olvides modificar el valor del ",(0,r.kt)("strong",{parentName:"p"},"atributo data-bs-target")," con el nombre del id de nuestra ventana modal)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="menus.js" {6}',title:'"menus.js"',"{6}":!0},'    <li>\n      <a \n        class="dropdown-item" \n        href="#"\n        data-bs-toggle="modal"\n        data-bs-target="#modalEditarPerfil"\n        >\n        Mi perfil\n      </a>\n    </li>\n\n')),(0,r.kt)("admonition",{title:"TAREA",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Haz lo mismo con todos los items editar de cada men\xfa... \xa1Y ya lo tendremos!!!")),(0,r.kt)("p",null,"Cuando lo hayas probado y te hayas flipado un rato, recuerda grabar y actualizar el repositorio."),(0,r.kt)("admonition",{title:"\xbfCerramos la rama?",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Es un buen momento para incluir todos los cambios de esta rama en la rama principal ",(0,r.kt)("inlineCode",{parentName:"p"},"main"),".\n\xa1Hagamos un pullRequest!")))}c.isMDXComponent=!0},1690:(e,a,n)=>{n.d(a,{Z:()=>o});const o=n.p+"assets/images/diagramaCasosUso_1-3fc60e64208490df3bd2eb0f595cedbc.png"},9066:(e,a,n)=>{n.d(a,{Z:()=>o});const o=n.p+"assets/images/ls-9d0a06158b68decf55311cca349ab4c7.png"},6996:(e,a,n)=>{n.d(a,{Z:()=>o});const o=n.p+"assets/images/menus-f6d71eb4676cc6cf187beef085f487cd.png"}}]);