<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Diseño del diagrama de clases | VANILLA Pills</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://carrebola.github.io/vanillaPill/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://carrebola.github.io/vanillaPill/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://carrebola.github.io/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Diseño del diagrama de clases | VANILLA Pills"><meta data-rh="true" name="description" content="Clases para el ORM"><meta data-rh="true" property="og:description" content="Clases para el ORM"><link data-rh="true" rel="icon" href="/vanillaPill/img/logo.svg"><link data-rh="true" rel="canonical" href="https://carrebola.github.io/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases"><link data-rh="true" rel="alternate" href="https://carrebola.github.io/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases" hreflang="es"><link data-rh="true" rel="alternate" href="https://carrebola.github.io/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/vanillaPill/blog/rss.xml" title="VANILLA Pills RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/vanillaPill/blog/atom.xml" title="VANILLA Pills Atom Feed"><link rel="stylesheet" href="/vanillaPill/assets/css/styles.9342fa3b.css">
<link rel="preload" href="/vanillaPill/assets/js/runtime~main.ebbb5e63.js" as="script">
<link rel="preload" href="/vanillaPill/assets/js/main.a8ae102a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/vanillaPill/"><div class="navbar__logo"><img src="/vanillaPill/img/logo.svg" alt="Vanilla Pills" class="themedImage_ToTc themedImage--light_HNdA"><img src="/vanillaPill/img/logo.svg" alt="Vanilla Pills" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Vanilla Pills</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/vanillaPill/docs/intro">| VANILLA GAMES |</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/vanillaPill/blog">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vanillaPill/docs/intro">Index</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Introducción/De que vaesto">Introducción</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Técnicas para el diseño de la interficie/DCU">Técnicas para el diseño de la interficie</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/vanillaPill/docs/Version 1.0/SPRINT 0 - REQUISITOS/Requisitos y diagrama de casos de uso">Version 1.0</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 0 - REQUISITOS/Requisitos y diagrama de casos de uso">SPRINT 0 - REQUISITOS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 1 - INTERFICIE/Bocetos">SPRINT 1 - INTERFICIE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 2 - PROTOTIPOS/Entorno de desarrollo">SPRINT 2 - PROTOTIPOS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 3 - SPA/Entorno de desarrollo para SPA">SPRINT 3 - SPA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/HistX - Diseño de la base de datos">SPRINT 4 - BACKEND</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/HistX - Diseño de la base de datos">HistX - Diseño de la base de datos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diagrama de clases y mapping">A cerca del Diagrama de clases y el Mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diseño del diagrama de clases">Diseño del diagrama de clases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Supabase como servicio backend">Supabase como servicio backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Construcción de tablas y usuarios">Construcción de tablas y usuarios</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Probando Supabase con Javascript/API javascript">Probando Supabase con Javascript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/ORM para el mapping en javascript/h9">ORM para el mapping en javascript</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/vanillaPill/docs/Version 1.0/SPRINT 5 - INTEGRACION FRONTEND Y BACKEND/Integración de Frontend Y Backend/h13">SPRINT 5 - INTEGRACION FRONTEND Y BACKEND</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Versión 2.0/h1">Versión 2.0</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Versión 3.0/h1">Versión 3.0</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Versión 4.0/h1">Versión 4.0</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Versión 5.0/h1">Versión 5.0</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/PAPELERA ANTERIOR/h1">PAPELERA ANTERIOR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/vanillaPill/docs/Recursos/chuleta">Recursos</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/vanillaPill/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Version 1.0</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SPRINT 4 - BACKEND</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Diseño del diagrama de clases</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Diseño del diagrama de clases</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="clases-para-el-orm">Clases para el ORM<a href="#clases-para-el-orm" class="hash-link" aria-label="Enlace directo al Clases para el ORM" title="Enlace directo al Clases para el ORM">​</a></h2><p>En primer lugar vamos a <strong>construir las clases</strong> necesarias para crear nuestro <strong>ORM</strong>.</p><p>Cada clase va a tener:</p><ul><li>unas <strong>propiedades</strong> que se corresponderán con los campos de la tabla a la que está asociada</li><li>unos <strong>métodos</strong> que permitiran el acceso y manipulación de los datos de dicha tabla</li></ul><p>Por lo tanto, en esta versión, necesitamos tres clases. La clase <strong>users</strong>, la clase <strong>perfiles</strong> y la clase <strong>proyectos</strong>.</p><p>Los métodos básico que suelen utilizarse en un ORM comprenden las funcionalidades propias de un <strong>CRUD (Create, Read, Update y Delete)</strong>. Nosotros usaremos los siguientes:</p><ul><li><strong>getAll</strong>: Devolvera un objeto con todos los registros de la tabla.</li><li><strong>getById</strong>: Devolverá un objeto con los datos del registro que coincida con el campo <em>id</em>.</li><li><strong>getByUserId</strong>: Devolverá un objeto con los datos del registro que coincida con el campo <em>user_id</em>.</li><li><strong>create</strong>: Creará una nueva fila con los campos que le pasemos.</li><li><strong>update</strong>: Actualizará la fila correspondiente al registro cuyo campo id coincida con el que le pasemos, con los campos que le pasemos.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Como crear un diagrama de clases</div><div class="admonitionContent_S0QG"><p>Si no recuerdas como crear un diagrama de clases aquí te dejo un enlace que lo explica:</p><p>👉<a href="https://diagramasuml.com/diagrama-de-clases/?utm_content=cmp-true" target="_blank" rel="noopener noreferrer">Cómo crear un Diagrama de clases</a>👈</p></div></div><p>El diagrama de clases para la clase perfiles quedaría de la siguiente manera:</p><p><img loading="lazy" alt="Perfiles" src="/vanillaPill/assets/images/dcperfiles-1c6beaac99af079dc2f7a60836ad27b0.png" width="316" height="327" class="img_ev3q"></p><p>En este diagrama:</p><p>La <strong>clase</strong> &quot;Perfil&quot; representa los perfiles de tu sistema, con atributos correspondientes a las columnas en la base de datos.</p><p>Los <strong>métodos estáticos</strong> (como getAll, getById, create, update) se pueden llamar directamente en la clase sin crear una instancia previa.</p><p>Los <strong>atributos</strong> (id, created_at, nombre, etc.) son publicos (indicados por el &quot;+&quot;) y se inicializan en el constructor.</p><p>El método <strong>constructor</strong> se utiliza para crear una instancia de la clase Perfil a partir de un objeto con datos.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="diseño-de-todas-las-clases-y-sus-relaciones">Diseño de todas las clases y sus relaciones<a href="#diseño-de-todas-las-clases-y-sus-relaciones" class="hash-link" aria-label="Enlace directo al Diseño de todas las clases y sus relaciones" title="Enlace directo al Diseño de todas las clases y sus relaciones">​</a></h2><p>De momento está claro que, cómo mínimmo, necesitamos tantas clases como tablas queramos consultar. Pero eso no es todo, también necesitamos otras clases que nos permitan interactuar con la base de datos a otro nivel (por ejemplo a través de consultas multitabla).</p><p>Para diseñar las clases debemos tener presente todas las funcionalidades que se esperan de nuestra app (que en principio deberían conincidir con los casos de uso).</p><p>Y para definir todas las funcionalidades de nuestra app necesitarmos revisar todo el trabajo realizado en el momento en el que  definimos las especificaciones del proyecto, casos de usos y prototipos.</p><p>Hagámoslo, y llegaremos a la conclusión de que necesitamos las siguientes funcionalidades:</p><p>Para los usuarios:</p><ul><li>registrar usuario</li><li>iniciar sesión</li><li>cerrar sesión</li><li>borrar usuario</li><li>actualizar usuario</li><li>obtener datos de un usuario (email y contraseña)</li><li>obtener una lista de todos los usuarios registrados</li></ul><p>Para los perfiles asociados a estos usuarios:</p><ul><li>obtener datos de un perfil asociado a un usuario  (nombre, apellidos, etc)</li><li>obtener una lista de todos los perfiles</li><li>borrar un perfil</li><li>actualizar un perfil</li></ul><p>Para los proyectos:</p><ul><li>obtener datos de un proyecto según su id (nombre, descripción, etc)</li><li>obtener datos de un proyecto según el id del usuario que lo ha creado</li><li>obtener una lista de todos los proyectos</li><li>borrar un proyecto</li><li>actualizar un proyecto</li></ul><p>Pero eso no es todo. Si nos fijamos en el prototipo que muestra la tabla con todos los proyectos veremos que los datos mostrados son el resultado de cruzar la tabla <em>proyectos</em> con la tabla <em>perfiles</em>, es decir, de una consulta multitabla. De esta funcionalidad derivará una nueva clase llamada <em>proyectoDetalle</em>. Y ocurre algo parecido con la tabla perfil.</p><p>Os lo vuelo a explicar después, con más detalle.</p><p>Ahora toca diseñar el diagrama de clases tal y como nos lo explicaron en el módulo de <strong>&#x27;Entornos de desarrollo&#x27;</strong>. El resultado final sería algo así:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagrama-de-clases">Diagrama de clases<a href="#diagrama-de-clases" class="hash-link" aria-label="Enlace directo al Diagrama de clases" title="Enlace directo al Diagrama de clases">​</a></h2><p><img loading="lazy" alt="Diagrama de clases" src="/vanillaPill/assets/images/dc-1b2b47904518da02ba6c90fd8ef20e38.svg" width="1252" height="554" class="img_ev3q"></p><p><a target="_blank" href="/vanillaPill/assets/files/dc-1b2b47904518da02ba6c90fd8ef20e38.svg">🔍 <strong>AMPLIAR IMAGEN</strong></a></p><p><em>Diseñado con GitMind (<a href="https://gitmind.com/app/docs/fgi5pva1" target="_blank" rel="noopener noreferrer">https://gitmind.com/app/docs/fgi5pva1</a>)</em></p><p>Como puedes observar: La clase <strong><em>Users</em></strong> representa la tabla <strong><em>users</em></strong>, la clase <strong><em>Perfiles</em></strong> representa a la tabla <strong><em>perfiles</em></strong> y la clase <strong><em>Proyectos</em></strong> representa a la tabla <strong><em>proyectos</em></strong>.</p><p>Cada una tiene las mismas propiedades que tienen los campos de las tablas.</p><p>Por otro lado, tenemos las clases <strong><em>Perfil_detalle</em></strong> y <strong><em>Proyecto_detalle</em></strong>. Éstas son <strong>clases heredadas</strong> de <em>Perfiles</em> y <em>Proyectos</em> respectivamente y tienen la peculiaridad de que incluyen algún atributo extra y tres nuevos métodos.</p><p>Os explico el por qué de estas clases:</p><p>Si revisamos el boceto donde se muestran todos los proyectos, podemos ver que en la tabla se muestra, en cada fila, la información del proyecto junto con el nombre del autor.</p><p><img loading="lazy" alt="prototipo proyetos" src="/vanillaPill/assets/images/proyectos-ddb8f57183c3d3b48cea380630424609.png" width="1397" height="852" class="img_ev3q"></p><p>Los métodos de la clase <em>Proyectos</em> solo incluye los campos de la tabla <em>proyectos</em>. Pero en la tabla proyectos no aparece el nombre del autor sino su user_id.</p><p>Si queremos un método capaz de obtener toda la información (resultado de una consulta que combina dos tablas), necesitamos un método nuevo: el método <em>getDetalleAll()</em>.</p><p>Y como este método nos retorna información que no está contemplada en las propiedades de la clase <strong><em>Proyectos</em></strong>, nos vemos obligado a crear una clase nueva (que heredada de la clase <em>Proyectos</em>), con dos propiedades nuevas <strong><em>nombre_autor</em></strong> y <strong><em>apellidos_autor</em></strong> y varios métodos añadidos: <em>getDetalleAll()</em>, <strong><em>getDetalleById(id: number)</em></strong> y <strong><em>getDetallaByUserId(iser_id: UUID)</em></strong></p><p>Y con estas clases ya podemos crear nuestra <strong>capa de abstracción</strong> entre la programación de la app y la lógica para acceder a los datos de base de datos.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-Version 1.0/SPRINT 4 - BACKEND/03-Diseño del diagrama de clases.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Diagrama de clases y mapping"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">A cerca del Diagrama de clases y el Mapping</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/vanillaPill/docs/Version 1.0/SPRINT 4 - BACKEND/Supabase como servicio backend"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Supabase como servicio backend</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#clases-para-el-orm" class="table-of-contents__link toc-highlight">Clases para el ORM</a></li><li><a href="#diseño-de-todas-las-clases-y-sus-relaciones" class="table-of-contents__link toc-highlight">Diseño de todas las clases y sus relaciones</a></li><li><a href="#diagrama-de-clases" class="table-of-contents__link toc-highlight">Diagrama de clases</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><img src="https://fpllefia.com/images/logo40web-.png" alt="fpllefia" width="250px"> <br> Copyright © 2023 FPLLEFIA - Carlos Arrebola Montávez - carrebola@fpllefia.com</div></div></div></footer></div>
<script src="/vanillaPill/assets/js/runtime~main.ebbb5e63.js"></script>
<script src="/vanillaPill/assets/js/main.a8ae102a.js"></script>
</body>
</html>